/*
*#########################################
* PHPCMS File Manager
* Copyright (c) 2004-2006 phpcms.cn
* Author: Longbill ( http://www.longbill.cn )
* longbill.cn@gmail.com
*#########################################
*/


var strGB="°ðİŰưǰȰɰʰ˰̰ͰΰϰаѰ"+
"Ӱ԰հְװذٰڰ۰ܰݰް߰"+
"±ñıűƱǱȱɱʱ˱̱ͱαϱбѱұӱԱձֱױ"+
"ٱڱ۱ܱݱޱ߱"+
"²òĲŲƲǲȲɲʲ˲̲ͲβϲвѲҲӲԲղֲײزٲڲ۲ܲݲ"+
"߲"+
"³óĳųƳǳȳɳʳ˳̳ͳγϳгѳҳӳԳճֳ׳سٳڳ۳ܳݳ޳߳"+
""+
"´ôĴŴƴǴȴɴʴ˴̴ʹδϴдѴҴӴԴմִ״شٴڴ۴ܴݴ޴ߴ"+
""+
"µõĵŵƵǵȵɵʵ˵̵͵εϵеѵҵӵԵյֵ׵صٵڵ۵ܵݵ޵ߵ"+
"¶ö"+
"ŶƶǶȶɶʶ˶̶Ͷζ϶жѶҶӶԶնֶ׶ضٶڶ۶ܶݶ޶߶"+
"·÷ķŷƷǷȷɷ"+
"˷̷ͷηϷзѷҷӷԷշַ׷طٷڷ۷ܷݷ޷߷"+
"¸øĸŸƸǸȸɸʸ˸̸͸θϸ"+
"ѸҸӸԸոָ׸ظٸڸ۸ܸݸ޸߸"+
"¹ùĹŹƹǹȹɹʹ˹̹͹ιϹйѹҹӹԹչ"+
"׹عٹڹ۹ܹݹ޹߹"+
"ºúĺźƺǺȺɺʺ˺̺ͺκϺкѺҺӺԺպֺ׺غٺںۺ"+
"ݺ޺ߺ"+
"»ûĻŻƻǻȻɻʻ˻̻ͻλϻлѻһӻԻջֻ׻ػٻڻۻܻݻ޻߻"+
""+
"¼üļżƼǼȼɼʼ˼̼ͼμϼмѼҼӼԼռּ׼ؼټڼۼܼݼ޼߼"+
""+
"½ýĽŽƽǽȽɽʽ˽̽ͽνϽнѽҽӽԽսֽ׽ؽٽڽ۽ܽݽ޽߽"+
""+
"þľžƾǾȾɾʾ˾̾;ξϾоѾҾӾԾվ־׾ؾپھ۾ܾݾ޾߾"+
"¿ÿĿſƿǿ"+
"ɿʿ˿̿ͿοϿпѿҿӿԿտֿ׿ؿٿڿۿܿݿ޿߿"+
""+
""+
""+
"¡¢£¤¥¦§¨"+
"©ª«¬­®¯°±²³´µ¶·¸¹º»¼½¾¿"+
"áâãäåæçèéêëìíî"+
"ïðñòóôõö÷øùúûüýþÿ"+
"ġĢģĤĥĦħĨĩĪīĬĭĮįİıĲĳĴ"+
"ĵĶķĸĹĺĻļĽľĿ"+
"šŢţŤťŦŧŨũŪūŬŭŮůŰűŲųŴŵŶŷŸŹź"+
"ŻżŽžſ"+
"ơƢƣƤƥƦƧƨƩƪƫƬƭƮƯưƱƲƳƴƵƶƷƸƹƺƻƼƽƾƿ"+
""+
"ǡǢǣǤǥǦǧǨǩǪǫǬǭǮǯǰǱǲǳǴǵǶǷǸǹǺǻǼǽǾǿ"+
""+
"ȡȢȣȤȥȦȧȨȩȪȫȬȭȮȯȰȱȲȳȴȵȶȷȸȹȺȻȼȽȾȿ"+
""+
"ɡɢɣɤɥɦɧɨɩɪɫɬɭɮɯɰɱɲɳɴɵɶɷɸɹɺɻɼɽɾɿ"+
"ʡʢʣʤʥʦ"+
"ʧʨʩʪʫʬʭʮʯʰʱʲʳʴʵʶʷʸʹʺʻʼʽʾʿ"+
"ˡˢˣˤ˥˦˧˨˩˪˫ˬ"+
"˭ˮ˯˰˱˲˳˴˵˶˷˸˹˺˻˼˽˾˿"+
"̡̢̧̨̣̤̥̦̩̪̫̬̭̮̯̰̱̲"+
"̴̵̶̷̸̳̹̺̻̼̽̾̿"+
"ͣͤͥͦͧͨͩͪͫͬͭͮͯ͢͡ͰͱͲͳʹ͵Ͷͷ͸"+
"͹ͺͻͼͽ;Ϳ"+
"Ρ΢ΣΤΥΦΧΨΩΪΫάέήίΰαβγδεζηθικλμνξ"+
"ο"+
"ϡϢϣϤϥϦϧϨϩϪϫϬϭϮϯϰϱϲϳϴϵ϶ϷϸϹϺϻϼϽϾϿ"+
""+
"СТУФХЦЧШЩЪЫЬЭЮЯабвгдежзийклмноп"+
""+
"ѡѢѣѤѥѦѧѨѩѪѫѬѭѮѯѰѱѲѳѴѵѶѷѸѹѺѻѼѽѾѿ"+
"ҡҢңҤ"+
"ҥҦҧҨҩҪҫҬҭҮүҰұҲҳҴҵҶҷҸҹҺһҼҽҾҿ"+
"ӡӢӣӤӥӦӧӨөӪ"+
"ӫӬӭӮӯӰӱӲӳӴӵӶӷӸӹӺӻӼӽӾӿ"+
"ԡԢԣԤԥԦԧԨԩԪԫԬԭԮԯ԰"+
"ԱԲԳԴԵԶԷԸԹԺԻԼԽԾԿ"+
"աբգդեզէըթժիլխծկհձղճմյն"+
"շոչպջռսվտ"+
"ְֱֲֳִֵֶַָֹֺֻּ֢֣֤֥֦֧֪֭֮֡֨֩֫֬֯"+
"ֽ־ֿ"+
"סעףפץצקרשת׫׬׭׮ׯװױײ׳״׵׶׷׸׹׺׻׼׽׾׿"+
""+
"ءآأؤإئابةتثجحخدذرزسشصضطظعغػؼؽؾؿ"+
""+
"١٢٣٤٥٦٧٨٩٪٫٬٭ٮٯٰٱٲٳٴٵٶٷٸٹٺٻټٽپٿ"+
"ڡڢ"+
"ڣڤڥڦڧڨکڪګڬڭڮگڰڱڲڳڴڵڶڷڸڹںڻڼڽھڿ"+
"ۣۡۢۤۥۦۧۨ"+
"۩۪ۭ۫۬ۮۯ۰۱۲۳۴۵۶۷۸۹ۺۻۼ۽۾ۿ"+
"ܡܢܣܤܥܦܧܨܩܪܫܬܭܮ"+
"ܯܱܴܷܸܹܻܼܾܰܲܳܵܶܺܽܿ"+
"ݡݢݣݤݥݦݧݨݩݪݫݬݭݮݯݰݱݲݳݴ"+
"ݵݶݷݸݹݺݻݼݽݾݿ"+
"ޡޢޣޤޥަާިީުޫެޭޮޯްޱ޲޳޴޵޶޷޸޹޺"+
"޻޼޽޾޿"+
"ߡߢߣߤߥߦߧߨߩߪ߲߫߬߭߮߯߰߱߳ߴߵ߶߷߸߹ߺ߻߼߽߾߿"+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
""+
"";

var fuhao1 = "࡫ߣۣݣ"+
"£ãģţƣǣȣɣʣˣ̣ͣΣϣУѣңӣԣգ֣ףأ٣";

var fuhao2 = ['%A3%E0', '%A1%AB', '%A3%A1', '%A1%A4', '%A3%A3', '%A3%A4', '%A3%A5', '%A1%AD', '%A3%AA', 
'%A3%A8', '%A3%A9', '%A1%AA', '%A3%DF', '%A3%AB', '%A3%AD', '%A3%BD', '%A3%DB', '%A3%DD', '%A3%FB', 
'%A3%FD', '%A1%A2', '%A3%FC', '%A3%BB', '%A3%BA', '%A1%AE', '%A1%B0', '%A3%AC', '%A1%B6', '%A1%A3', 
'%A1%B7', '%A3%AF', '%A3%BF', '%A3%B1', '%A3%B2', '%A3%B3', '%A3%B4', '%A3%B5', '%A3%B6', '%A3%B7',
 '%A3%B8', '%A3%B9', '%A3%B0', '%A3%E1', '%A3%E2', '%A3%E3', '%A3%E4', '%A3%E5', '%A3%E6', '%A3%E7',
 '%A3%E8', '%A3%E9', '%A3%EA', '%A3%EB', '%A3%EC', '%A3%ED', '%A3%EE', '%A3%EF', '%A3%F0', '%A3%F1',
 '%A3%F2', '%A3%F3', '%A3%F4', '%A3%F5', '%A3%F6', '%A3%F7', '%A3%F8', '%A3%F9', '%A3%FA', '%A3%C1',
 '%A3%C2', '%A3%C3', '%A3%C4', '%A3%C5', '%A3%C6', '%A3%C7', '%A3%C8', '%A3%C9', '%A3%CA', '%A3%CB',
 '%A3%CC', '%A3%CD', '%A3%CE', '%A3%CF', '%A3%D0', '%A3%D1', '%A3%D2', '%A3%D3', '%A3%D4', '%A3%D5',
 '%A3%D6', '%A3%D7', '%A3%D8', '%A3%D9', '%A3%DA'];

function UrlEncode(str)
{
	if (typeof str != "string") return str;
	var i,c,p,q,ret="",strSpecial="!\"#$%&'()*+,/:;<=>?@[\]^`{|}~%";
	
	for(i=0;i<str.length;i++)
	{
		var p = fuhao1.indexOf(str.charAt(i));
		if ( p >= 0)
		{
			ret += fuhao2[p];
		}
		else if(str.charCodeAt(i)>=0x4e00)
		{
			var p=strGB.indexOf(str.charAt(i));
			if(p>=0)
			{
				q=p%94;
				p=(p-q)/94;
				ret+=("%"+(0xB0+p).toString(16)+"%"+(0xA1+q).toString(16)).toUpperCase();
			}
		}
		else
		{
			c=str.charAt(i);
			if (c == " ")
				ret+="%20";
			else if (strSpecial.indexOf(c)!=-1)
				ret+="%"+str.charCodeAt(i).toString(16);
			else
				ret+=c;
		}
	}
	return ret;
}